<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✦ Pomodoro Timer ‒ Focus!</title>
    <link rel="stylesheet" href="pomostyle.css">
    <script src="https://kit.fontawesome.com/ae18628571.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Botão de Configurações -->
    <div class="settings-toggle" id="settingsToggle"><i class="fa-solid fa-gear"></i> </div>

    <!-- menu de config -->
    <div class="settings-wrapper" id="settingsWrapper" aria-hidden="true">
        <
        <div class="settings-overlay" id="settingsOverlay"></div>

        <!-- caixa do menu -->
        <div class="settings-menu" id="settingsMenu" role="dialog" aria-modal="true">
            <!-- header com o título config + voltar/fechar -->
            <div class="settings-header">
                <button class="back-btn" id="backBtn" aria-hidden="true"><i class="fa-solid fa-arrow-left"></i></button>
                <h3 id="settingsTitle">Configurações</h3>
                <button class="close-btn" id="closeSettingsBtn"><i class="fa-solid fa-xmark"></i></button>
            </div>

            <!-- parte principal -->
            <div class="settings-content" id="settingsMain">
                <ul class="settings-list">
                    <li class="settings-item" data-target="alarmSettings">
                        <span id="settingsAlarmLabel"><i class="fa-solid fa-bell"></i> Volume do alarme</span> 
                        <span class="chev"><i class="fa-solid fa-chevron-right"></i></span>
                    </li>
                    <li class="settings-item" data-target="notificationsSettings">
                        <span id="settingsNotificationsLabel"><i class="fa-solid fa-envelope"></i> Notificações</span> 
                        <small class="muted" id="settingsHint">recomendado</small> 
                        <span class="chev"><i class="fa-solid fa-chevron-right"></i></span>
                    </li>
                    <li class="settings-item" data-target="aboutPomodoro">
                        <span id="settingsAboutLabel"><i class="fa-solid fa-clock"></i> Sobre a técnica Pomodoro</span> 
                        <span class="chev"><i class="fa-solid fa-chevron-right"></i></span>
                    </li>
                </ul>
            </div>

            <!-- submenu do alarme -->
            <div class="settings-submenu" id="alarmSettings" aria-hidden="true">
                <h4 class="submenu-title"></h4>
                <div class="submenu-section">
                    <label for="alarmVolume">Volume <span id="volumeValue">50%</span></label>
                    <input type="range" id="alarmVolume" min="0" max="1" step="0.01" value="0.5">
                    <button class="sound-mute" id="soundMuteBtn"><i class="fa-solid fa-volume-xmark"></i></button>
                </div>
            </div>

            <!-- submenu das notif -->
            <div class="settings-submenu" id="notificationsSettings" aria-hidden="true">
                <h4 class="submenu-title"></h4>
                <div class="submenu-section">
                    <label class="toggle-row">
                        <span>Notificar quando o tempo acabar</span> 
                        <input type="checkbox" id="enableNotificationsToggle">
                    </label>
                </div>
            </div>
            
            <!-- submenu sobre o pomodoro -->
            <div class="settings-submenu" id="aboutPomodoro" aria-hidden="true">
                <h4 class="submenu-title">O que é a Técnica Pomodoro?</h4>
                <div class="submenu-section">
                    <p>
                        A Técnica Pomodoro é um método de gestão de tempo que divide o trabalho/estudo em blocos de foco (25 minutos), seguidos de pequenas pausas.
                        Após quatro ciclos, faz-se uma pausa mais longa de 15 a 30 minutos. Isso ajuda a manter a
                        produtividade e reduzir a fadiga mental.<br><br>

                        <strong>Como funciona:</strong><br>
                            - Faça uma lista de tarefas.<br>
                            - Defina o cronômetro de 25 minutos e concentre-se em uma tarefa até que o alarme dispare. <strong>( DICA:</strong> mantenha o celular / redes sociais distantes!<strong> )</strong><br>
                            - Após a conclusão da sessão, marque um pomodoro e registre o que você completou.<br>
                            - Faça uma pausa de 5 minutos para refrescar sua concentração.<br>
                            - Após 4 pomodoros, faça uma longa pausa de 15-30 minutos.

                    </p>
                </div>
            </div>

        </div>
    </div>

    <!-- botao de menu -->
    <div class="menu-toggle" id="menuToggle">
        <i class="fa-solid fa-pen-to-square"></i>  <!-- icon do botao de to-do -->
    </div>

    <!-- seleção de linguagem -->
    <div class="language-selector">
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-current" id="languageCurrent">
                <span id="currentLangText"><i class="fa-solid fa-earth-americas"></i></span>
                <span class="language-arrow"><i class="fa-solid fa-caret-down"></i></span>
            </div>
            <div class="language-options" id="languageOptions">
                <button class="language-option" data-lang="pt">pt</button>
                <button class="language-option" data-lang="en">en</button>
            </div>
        </div>
    </div>

    <!-- to-do sidebar -->
    <div class="todo-sidebar" id="todoSidebar">
        <div class="todo-header">
            <h2 class="todo-title" id="todoTitle"><i class="fa-solid fa-clipboard-list"></i>To-Do List</h2> <!-- icon clipboard -->
            <button class="close-btn" id="closeTodoBtn"><i class="fa-solid fa-xmark"></i></button> <!-- botao icon X do to-do -->
        </div>
        <div class="todo-content">
            <div class="todo-input-section">
                <input type="text" class="todo-input" id="todoInput" placeholder="Digite sua tarefa...">
                <button class="add-todo-btn" id="addTodoBtn">Adicionar Tarefa</button>
            </div>
            <ul class="todo-list" id="todoList">
            </ul>
            <div class="empty-state" id="emptyState">
                Nenhuma tarefa ainda. Adicione uma acima!
            </div>
        </div>
    </div>

    <!-- principal -->
    <div class="container">
        <h1 id="title">Timer Pomodoro</h1>
        <div class="session-buttons">
            <button class="session-btn active" id="focusBtn">Foco</button>
            <button class="session-btn" id="breakBtn">Pausa curta</button>
            <button class="session-btn" id="longBreakBtn">Pausa longa</button>
        </div>
        <!-- display do timer -->
        <div class="timer-container">
            <svg class="progress-ring" width="300" height="300">
                <circle class="progress-ring__circle progress-ring__background"
                        cx="150" cy="150" r="140"/>
                <circle class="progress-ring__circle progress-ring__progress"
                        cx="150" cy="150" r="140"/>
            </svg>
            <div class="timer-display" id="timerDisplay">25:00</div>
        </div>
        <!-- info da sessão escolhida (pausa curta, pausa longa, etc.) -->
        <div class="session-info">
            <p id="sessionInfo">Sessão de Foco - 25 minutos</p>
        </div>
        <!-- botoes principais -->
        <div class="controls">
            <button class="btn btn-start" id="startBtn">Iniciar</button>
            <button class="btn btn-stop" id="stopBtn">Parar</button>
            <button class="btn btn-reset" id="resetBtn">Reiniciar</button>
        </div>
    </div>

    <!-- Spotify Box (vazia até o usuário colar a playlist e clicar em Update) -->
    <div class="spotify-box">
        <h2><i class="fa-brands fa-spotify"></i></h2>
        <div class="spotify-input">
            <input id="spotifyUrl" type="text" placeholder="Insira o link da sua playlist do Spotify...">
            <button id="spotifyUpdateBtn">Atualizar</button>
        </div>

        <div id="spotifyEmbed"></div>
    </div>


    <script type="module" src="/back/pomo.js"></script>

</body>
</html>
